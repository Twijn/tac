<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TAC Documentation</title>
    <style>
        :root {
            --bg: #ffffff;
            --text: #1a1a1a;
            --link: #0066cc;
            --border: #e0e0e0;
            --code-bg: #f5f5f5;
        }
        @media (prefers-color-scheme: dark) {
            :root {
                --bg: #1a1a1a;
                --text: #e0e0e0;
                --link: #4d9fff;
                --border: #333333;
                --code-bg: #2a2a2a;
            }
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text);
            background: var(--bg);
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border);
        }
        h2 {
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .module {
            padding: 1rem;
            margin: 0.5rem 0;
            border: 1px solid var(--border);
            border-radius: 4px;
        }
        .module h3 {
            margin: 0 0 0.5rem 0;
        }
        .module p {
            opacity: 0.8;
        }
        a {
            color: var(--link);
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .version-badge {
            display: inline-block;
            background: #2a3540;
            color: #8b949e;
            padding: 0.15rem 0.4rem;
            border-radius: 3px;
            font-size: 0.7em;
            font-weight: 500;
            margin-left: 0.5rem;
            vertical-align: middle;
        }
        .install-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            padding: 2rem;
            margin: 2rem 0;
            color: white;
        }
        .install-box h2 {
            margin-top: 0;
            color: white;
            border: none;
        }
        .install-box p {
            opacity: 0.95;
            margin-bottom: 1rem;
        }
        .install-command {
            position: relative;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            padding: 1rem 1.5rem;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 1rem;
            margin: 1rem 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            flex-wrap: wrap;
        }
        .install-command code {
            background: none;
            color: #fff;
            padding: 0;
            font-size: 1em;
            word-break: break-all;
            flex: 1;
            min-width: 0;
        }
        .copy-button {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.2s;
            white-space: nowrap;
            flex-shrink: 0;
        }
        .copy-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-1px);
        }
        .copy-button:active {
            transform: translateY(0);
        }
        .copy-button.copied {
            background: rgba(76, 175, 80, 0.8);
            border-color: rgba(76, 175, 80, 1);
        }
        @media (max-width: 768px) {
            .install-box {
                padding: 1.5rem;
                margin: 1.5rem 0;
            }
            .install-command {
                padding: 0.75rem 1rem;
                font-size: 0.85rem;
                flex-direction: column;
                align-items: stretch;
            }
            .install-command code {
                font-size: 0.85em;
                margin-bottom: 0.5rem;
            }
            .copy-button {
                width: 100%;
                text-align: center;
            }
        }
        @media (max-width: 480px) {
            .install-box {
                padding: 1rem;
                margin: 1rem 0;
            }
            .install-command {
                padding: 0.5rem 0.75rem;
                font-size: 0.75rem;
            }
            .install-command code {
                font-size: 0.75em;
            }
        }
    </style>
</head>
<body>
    <h1>TAC Documentation</h1>
    <p>Terminal Access Control (TAC) is a comprehensive access control system for ComputerCraft that provides card-based authentication, extensible modules, and integration with external services.</p>
    
    <div class="install-box">
        <h2>Quick Install</h2>
        <p>Get started with TAC in seconds! Run this command in ComputerCraft:</p>
        <div class="install-command">
            <code>wget run https://raw.githubusercontent.com/Twijn/tac/main/installer.lua</code>
            <button class="copy-button" onclick="copyInstallCommand(this)">Copy</button>
        </div>
        <p style="font-size: 0.9rem; opacity: 0.8; margin-top: 0.5rem;">This will download and run the TAC installer, which will guide you through the setup process.</p>
    </div>
    
    <h2>Core Modules</h2>
    <div class="module">
        <h3><a href="tac_core_card_manager.html">tac.core.card_manager</a><span class="version-badge">v1.0.1</span></h3>
        <p>Provides consistent card creation, validation, and management APIs. Handles standard card creation, subscription cards with expiration, card renewal, and card information queries.</p>
    </div>
    <div class="module">
        <h3><a href="tac_core_extension_loader.html">tac.core.extension_loader</a><span class="version-badge">v1.0.1</span></h3>
        <p>Provides robust extension loading with dependency management, error handling, and graceful degradation. Supports extension metadata, version checking, and load order resolution based on dependencies.</p>
    </div>
    <div class="module">
        <h3><a href="tac_core_hardware.html">tac.core.hardware</a><span class="version-badge">v1.0.1</span></h3>
        <p>Handles peripheral detection, door control, and sign updates for the TAC system. Provides utilities for finding and interacting with ComputerCraft peripherals.</p>
    </div>
    <div class="module">
        <h3><a href="tac_core_logger.html">tac.core.logger</a><span class="version-badge">v1.0.1</span></h3>
        <p>Handles all access logging functionality for the TAC system. Logs access events, card creation, and other security-related activities.</p>
    </div>
    <div class="module">
        <h3><a href="tac_core_security.html">tac.core.security</a><span class="version-badge">v1.0.1</span></h3>
        <p>Handles tag matching, access control logic, and hierarchical permissions. Provides utilities for generating random tokens, parsing tags, and checking access permissions with support for hierarchical a...</p>
    </div>
    <h2>Library Modules</h2>
    <div class="module">
        <h3><a href="tac_lib_interactive_list.html">tac.lib.interactive_list</a><span class="version-badge">v1.0.3</span></h3>
        <p>Provides an interactive list UI with keyboard navigation for browsing items. Supports arrow key navigation, detail view, and customizable rendering.</p>
    </div>
    <div class="module">
        <h3><a href="tac_lib_shopk_shared.html">tac.lib.shopk_shared</a></h3>
        <p>Get the current ShopK configuration</p>
    </div>
    <h2>Other Modules</h2>
    <div class="module">
        <h3><a href="installer.html">installer</a><span class="version-badge">v1.2.0</span></h3>
        <p></p>
    </div>
    <div class="module">
        <h3><a href="tac_init.html">tac.init</a><span class="version-badge">v1.4.3</span></h3>
        <p>The main package interface for the TAC access control system. This module provides the core functionality for managing card-based access control, including extension management, command registration, ...</p>
    </div>
    <div class="module">
        <h3><a href="tac_lib_interactive_list.html">tac.lib.interactive_list</a><span class="version-badge">v1.0.3</span></h3>
        <p>Provides an interactive list UI with keyboard navigation for browsing items. Supports arrow key navigation, detail view, and customizable rendering.</p>
    </div>
    <div class="module">
        <h3><a href="tac_lib_shopk_shared.html">tac.lib.shopk_shared</a></h3>
        <p>Get the current ShopK configuration</p>
    </div>
    <h2>Extension Modules</h2>
    <div class="module">
        <h3><a href="tac_extensions__example.html">tac.extensions._example</a><span class="version-badge">v1.0.1</span></h3>
        <p>This file demonstrates how to create a TAC extension. Extensions can register commands, add hooks to TAC events, and provide custom functionality.</p>
    </div>
    <div class="module">
        <h3><a href="tac_extensions_shop_monitor.html">tac.extensions.shop_monitor</a><span class="version-badge">v1.0.4</span></h3>
        <p>Displays available shop items on a monitor with payment commands. Shows access tiers, pricing, and renewal information on an external monitor. Optionally integrates with shopk_access extension for enh...</p>
    </div>
    <div class="module">
        <h3><a href="tac_extensions_shopk_access.html">tac.extensions.shopk_access</a><span class="version-badge">v1.4.4</span></h3>
        <p>Sells access tags as SKUs via ShopK/Kromer payments. Integrates with ShopK to allow users to purchase access tags through the Kromer payment system. Modular version using separate modules for differen...</p>
        <div style="margin-left: 2rem; margin-top: 0.75rem; border-left: 2px solid var(--border); padding-left: 1rem;">
            <div style="margin: 0.5rem 0;">
                <strong><a href="tac_extensions_shopk_access_commands.html">commands</a></strong>
                <span style="opacity: 0.7; font-size: 0.9em;"> - Command implementations for shop management. Handles all CLI commands for configuring and managing the ShopK integration.</span>
            </div>
            <div style="margin: 0.5rem 0;">
                <strong><a href="tac_extensions_shopk_access_config.html">config</a></strong>
                <span style="opacity: 0.7; font-size: 0.9em;"> - Handles tier configuration, loading, and saving for ShopK access sales. Manages subscription tier definitions, pricing, and duration settings.</span>
            </div>
            <div style="margin: 0.5rem 0;">
                <strong><a href="tac_extensions_shopk_access_init.html">init</a></strong>
                <span style="opacity: 0.7; font-size: 0.9em;"> - Module loader that provides access to all ShopK access submodules. This is used internally by the parent shopk_access.lua extension.</span>
            </div>
            <div style="margin: 0.5rem 0;">
                <strong><a href="tac_extensions_shopk_access_monitor_ui.html">monitor_ui</a></strong>
                <span style="opacity: 0.7; font-size: 0.9em;"> - Provides interactive monitor-based UI for card purchases and renewals. Allows users without terminal access to make choices and see transaction progre...</span>
            </div>
            <div style="margin: 0.5rem 0;">
                <strong><a href="tac_extensions_shopk_access_shop.html">shop</a></strong>
                <span style="opacity: 0.7; font-size: 0.9em;"> - Handles ShopK shop instance and transaction processing. Manages the ShopK integration, processes purchases, and handles payment events.</span>
            </div>
            <div style="margin: 0.5rem 0;">
                <strong><a href="tac_extensions_shopk_access_slots.html">slots</a></strong>
                <span style="opacity: 0.7; font-size: 0.9em;"> - Handles slot discovery, availability checking, and assignment for subscription-based access slots.</span>
            </div>
            <div style="margin: 0.5rem 0;">
                <strong><a href="tac_extensions_shopk_access_subscriptions.html">subscriptions</a></strong>
                <span style="opacity: 0.7; font-size: 0.9em;"> - Handles viewing, canceling, and refunding active subscriptions. Provides tools for managing user subscription lifecycles.</span>
            </div>
            <div style="margin: 0.5rem 0;">
                <strong><a href="tac_extensions_shopk_access_ui.html">ui</a></strong>
                <span style="opacity: 0.7; font-size: 0.9em;"> - FormUI-based configuration interfaces for ShopK access management. Provides interactive forms for configuring tiers and settings.</span>
            </div>
            <div style="margin: 0.5rem 0;">
                <strong><a href="tac_extensions_shopk_access_utils.html">utils</a></strong>
                <span style="opacity: 0.7; font-size: 0.9em;"> - Core utilities for time, formatting, and basic helper functions used throughout the ShopK access extension.</span>
            </div>
        </div>
    </div>
    <div class="module">
        <h3><a href="tac_extensions_shopk_node.html">tac.extensions.shopk_node</a><span class="version-badge">v1.0.0</span></h3>
        <p>Allows configuring the ShopK syncNode option for connecting to different Krist nodes. Provides UI and commands for managing node settings.</p>
    </div>
    <div class="module">
        <h3><a href="tac_extensions_updater.html">tac.extensions.updater</a><span class="version-badge">v1.3.0</span></h3>
        <p>Provides auto-update functionality for TAC libraries and (eventually) the TAC system itself via lib/updater.lua. This extension checks for updates on startup and provides commands to check for and ins...</p>
    </div>
</body>
<script>
function copyInstallCommand(button) {
    const command = 'wget run https://raw.githubusercontent.com/Twijn/tac/main/installer.lua';
    navigator.clipboard.writeText(command).then(() => {
        const originalText = button.textContent;
        button.textContent = 'Copied!';
        button.classList.add('copied');
        setTimeout(() => {
            button.textContent = originalText;
            button.classList.remove('copied');
        }, 2000);
    }).catch(err => {
        console.error('Failed to copy:', err);
        alert('Failed to copy to clipboard');
    });
}
</script>
</html>
